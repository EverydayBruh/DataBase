# НИЯУ МИФИ. Лабораторная работа №1. Журбенко Василий, Б21-525. 2024

## Предметная область

Сеть магазинов ювелирных изделий. После поступления на склад, изделия распределяются по различным отделам. Необходимо вести учёт наличия товаров в каждом отделе и отслеживать личные продажи продавцов. Важной частью системы является программа лояльности для постоянных покупателей, которая предусматривает скидки. Магазины работают с несколькими поставщиками.  Нужно учитывать, что один и тот же товар может находиться в разных отделах и в разном количестве. Система должна также отслеживать данные о поставщиках, продаже товаров, продавцах, покупателях и инвентаре.

## Спецификация таблиц

### Таблица `departments`
- `id` (Primary Key) - уникальный идентификатор отдела
- `name` - название отдела
- `location` - локация отдела

### Таблица `products`
- `id` (Primary Key) - уникальный идентификатор товара
- `name` - название товара
- `description` - описание товара
- `purchase_price` - цена закупки
- `sale_price` - цена продажи
- `supplier_id` (Foreign Key) - идентификатор поставщика

### Таблица `suppliers`
- `id` (Primary Key) - уникальный идентификатор поставщика
- `name` - название поставщика
- `contact_info` - контактная информация

### Таблица `sales`
- `id` (Primary Key) - уникальный идентификатор продажи
- `product_id` (Foreign Key) - идентификатор товара
- `seller_id` (Foreign Key) - идентификатор продавца
- `sale_date` - дата продажи
- `quantity` - количество проданного товара
- `discount` - скидка

### Таблица `sellers`
- `id` (Primary Key) - уникальный идентификатор продавца
- `first_name` - имя продавца
- `last_name` - фамилия продавца
- `department_id` (Foreign Key) - идентификатор отдела

### Таблица `customers`
- `id` (Primary Key) - уникальный идентификатор покупателя
- `first_name` - имя покупателя
- `last_name` - фамилия покупателя
- `discount_card` - наличие дисконтной карты (да/нет)
- `discount` - скидка

### Таблица `inventory`
- `id` (Primary Key) - уникальный идентификатор записи инвентаря
- `product_id` (Foreign Key) - идентификатор товара
- `department_id` (Foreign Key) - идентификатор отдела
- `quantity` - количество товара в отделе

## Доказательство соответствия базы данных требованиям третьей нормальной формы (3NF)

1. **Первая нормальная форма (1NF)**:
   - Все данные в таблицах разбиты на простые и неделимые значения.
   - Каждое поле в таблице содержит только одно значение.

2. **Вторая нормальная форма (2NF)**:
   - Соответствует 1NF.
   - Все данные зависят от всего первичного ключа таблицы.
   - Нет частичных зависимостей, то есть данные зависят от всего ключа, а не от его части.

3. **Третья нормальная форма (3NF)**:
   - Соответствует 2NF.
   - Все данные зависят только от первичного ключа и ни от чего другого.
   - Нет транзитивных зависимостей, когда данные зависят от другого неключевого поля.

Таким образом, наша база данных соответствует требованиям третьей нормальной формы (3NF), потому что:
   - Данные простые и неделимые (1NF).
   - Все данные зависят от ключа целиком (2NF).
   - Данные зависят только от ключа и ни от чего другого (3NF).

## Диаграмма отношений сущностей
![//www.plantuml.com/plantuml/png/hLF1Ri8m3BttAq9Fuu1sdn3YJweqCM0jJRh4GLImVv_fshICJ0Y94yJlvVazEzq6afvYOue57Q01SSJQIql5GiCEBOZMOoDzLtr2ztPQYdMzEQtVwqt2Tyu3xct2yOhZfYZ04b8dIWqjTsZu64fnBiID8kgb-11eYUjMDi27G1xjdi_6AKdex5JxdbHRxtHKpqfg2CfZUwlArwDN1ncWOXt55vYdMD0m5AJ9bUUfGsnRW-2hr7bkT4IVTAgS9QceGhjpsG5SZJtGd9iSvbNzXmSmPXvXZAubzSdvXqjVKVRj4qTZK2vQceOpz_Wh-iWb-a3LtV9bfZWtF3sh_DnL3EIQrtMVibPAUir0xPm1QHzE0UsH_phVlMfR-V3tws4F4p68osMrScSnB8KvvOrCcICdxndwO3BF7S0iiN-wVqdZTv9OwHOJHx1d3W7krAxrWR85gsDZVW00](./assets/diagram.png)

## SQL-сценарий
[Инициализация](./scripts/initialization.sql)

## Заключение
В ходе данной лабораторной работы была построена модель данных для предметной области "Сеть магазинов ювелирных изделий". Разработанная модель включает в себя следующие основные сущности: отделы, товары, поставщики, продажи, продавцы, покупатели и инвентарь. Все необходимые атрибуты этих сущностей были определены и сгруппированы в соответствующие таблицы.
Было доказано, что разработанная модель данных соответствует требованиям третьей нормальной формы, что обеспечивает целостность и непротиворечивость хранимых данных. Для наглядного представления взаимосвязей между сущностями была построена диаграмма отношений сущностей.
Разработанная модель данных была реализована с помощью SQL-сценария, создающего необходимые таблицы и устанавливающего связи между ними.
Полученная в результате работы модель данных может быть использована для дальнейшей разработки информационной системы для управления сетью магазинов ювелирных изделий.